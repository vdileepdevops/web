<div id="personal-loan">
    <div class="row">
      <div class="col-12 mt-5">
        <p class="bc-2">Personal Loan </p>
      </div>
    </div>
    

    <div class="row" *ngIf="oldData?.pContacttype == 'Individual'">
      <div class="col-md-6 col-xl-4 ">
        <a class="lc-title acc1 mb-2 text-decoration-none" data-toggle="collapse" href="#employmentdetails" role="button" aria-expanded="false" aria-controls="personaldetails"><img id="close" src="assets/images/icon-toggle-default.svg" width="12px" height="12px" /><img id="open" src="assets/images/icon-toogle-bottom.svg" width="12px" height="12px" /> &nbsp; &nbsp;  Employment Details </a>
      </div>
      <div class="col-md-6 col-xl-4">
        <!-- <div class="material-switch pull-right">
          <span class="mr-2">Not applicable</span>
          <input id="Employment1" name="Employment" type="checkbox" (change)="employeementCheckedChange($event)" />
          <label for="Employment1" class="check-danger"></label>
        </div> -->
      </div>
      <div class="col-12 collapse" id="employmentdetails" >
        <!-- <app-fi-personaldetails-employment [typeOfEmployement]="'fi-personalLoan'"></app-fi-personaldetails-employment> -->
        <form [formGroup]="employeemetForm">
    <div class=" mt-3">
      <div class="row">
        <div class="col-md-12 col-xl-12" id="pemploymenttype" title="Employeement Type">
          <div class="form-check radio-btn form-check-inline mr-">
            <input class="form-check-input" type="radio" name="pemploymenttype" id="personalemployed" value="Employed" formControlName="pemploymenttype" (change)="pemploymenttypeChange()" [ngClass]="{ 'is-invalid': formValidationMessages.pemploymenttype }">
            <label class="" for="personalemployed"> Employed </label>
          </div>
          <div class="form-check radio-btn form-check-inline">
            <input class="form-check-input" type="radio" name="employeetype" name="pemploymenttype" id="personalselfemployed" value="Self Employed" formControlName="pemploymenttype" [ngClass]="{ 'is-invalid': formValidationMessages.pemploymenttype }" (change)="pemploymenttypeChange()">
            <label class="" for="personalselfemployed"> Self Employed </label>
          </div>
        </div>
        <div class="invalid-feedback">
            <span *ngIf="formValidationMessages.pemploymenttype">{{formValidationMessages?.pemploymenttype}}</span>
          </div>
      </div>
      <!--employed start-->
  
      <div class="row">
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Name of the organization</label>
            <input title="Name of the organization" appEnterpriseNameFormat maxlength="75" id="pnameoftheorganization" class="form-control" type="text" placeholder="Current Employer" formControlName="pnameoftheorganization" [ngClass]="{ 'is-invalid': formValidationMessages.pnameoftheorganization }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pnameoftheorganization">{{formValidationMessages?.pnameoftheorganization}}</span>
              </div>
          </div>
        </div>
  
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Nature of Organization</label>
            <div class="input-group">
              <select class="form-control" id="pEnterpriseType" title="Nature of Organization" formControlName="pEnterpriseType" [ngClass]="{ 'is-invalid': formValidationMessages.pEnterpriseType }">
                <option value="" ng-selected="selected">Select</option>
                <option *ngFor="let natureofOrganization of natureofOrganizationList;trackBy: trackByFn" [value]="natureofOrganization.pEnterpriseType">{{natureofOrganization.pEnterpriseType}}</option>
              </select>
              <!--<div class="input-group-append">
              <button class="btn btn-lg-icon px-2 p-0" (click)="saveNatureofOrganization()"> <img src="assets/images/icon-add-blue.svg" class="" width="20px" height="20px"></button>
            </div>-->
            </div>
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pEnterpriseType">{{formValidationMessages?.pEnterpriseType}}</span>
              </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Employement Role</label>
            <div class="input-group">
              <!-- <select class="form-control" id="pemploymentrole" title="Employement Role" formControlName="pemploymentrole" [ngClass]="{ 'is-invalid': formValidationMessages.pemploymentrole }">
                <option value="" ng-selected="selected">Select</option>
                <option *ngFor="let employementRole of employementRoleList;trackBy: trackByFn" [value]="employementRole.pemploymentrole">{{employementRole.pemploymentrole}}</option>
              </select> -->
              <input title="Name Employement Role"
              maxlength="30" id="pemploymentrole" class="form-control" type="text"
               placeholder="Enter Employement Role" formControlName="pemploymentrole">
              <!--<div class="input-group-append">
              <button class="btn btn-lg-icon px-2 p-0" (click)="saveEmployementRole()"> <img src="assets/images/icon-add-blue.svg" class="" width="20px" height="20px"></button>
            </div>-->
            </div>
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pemploymentrole">{{formValidationMessages?.pemploymentrole}}</span>
              </div>
          </div>
        </div>
  
        <hr class="light">
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Office Address</label>
            <textarea class="form-control" maxlength="300" appAddressformat placeholder="Enter Office Address" style="height:34px;" id="pofficeaddress" title="Office Address" formControlName="pofficeaddress" [ngClass]="{ 'is-invalid': formValidationMessages.pofficeaddress }"></textarea>
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pofficeaddress">{{formValidationMessages?.pofficeaddress}}</span>
              </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Office Phone No.</label>
            <input class="form-control" type="text" placeholder="Enter Office Phone No" appRoundecimal="12@0" id="pofficephoneno" title="Office Phone No." formControlName="pofficephoneno" [ngClass]="{ 'is-invalid': formValidationMessages.pofficephoneno }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pofficephoneno">{{formValidationMessages?.pofficephoneno}}</span>
              </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>{{experenceDisplayName}}</label>
            <input class="form-control" type="text" appRoundecimal="2@2" placeholder="{{experenceDisplayName}}" id="ptotalworkexp" title="{{experenceDisplayName}}" formControlName="ptotalworkexp" [ngClass]="{ 'is-invalid': formValidationMessages.ptotalworkexp }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.ptotalworkexp">{{formValidationMessages?.ptotalworkexp}}</span>
              </div>
          </div>
        </div>
  
  
  
      </div>
  
      <div class="row" *ngIf="showEmployedDetails">
        <hr class="light">
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Reporting to</label>
            <input class="form-control" type="text" maxlength="50" appCharactersonly appTitlecaseword placeholder="Enter Reporting to" id="preportingto" title="Reporting to" formControlName="preportingto" [ngClass]="{ 'is-invalid': formValidationMessages.preportingto }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.preportingto">{{formValidationMessages?.preportingto}}</span>
              </div>
          </div>
        </div>
  
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Employment in Current Company</label>
            <div class="input-group">
              <input class="form-control" type="text" appRoundecimal="2@2" placeholder="Enter Employment in Current Company" id="pemployeeexp" title="Reporting to" formControlName="pemployeeexp" [ngClass]="{ 'is-invalid': formValidationMessages.pemployeeexp }">
              <div class="invalid-feedback">
                  <span *ngIf="formValidationMessages.pemploymenttype">{{formValidationMessages?.pemploymenttype}}</span>
                </div>
              <app-validation-message [messgae]="formValidationMessages.pemployeeexp"></app-validation-message>
  
              <div class="input-group-append">
                <select class="form-control w-auto btn-lg-icon" placeholder="Experence Type" id="pemployeeexptype" title="Reporting to" formControlName="pemployeeexptype" [ngClass]="{ 'is-invalid': formValidationMessages.pemployeeexptype }">
                  <option>Months</option>
                  <option>Years</option>
                </select>
                <div class="invalid-feedback">
                    <span *ngIf="formValidationMessages.pemploymenttype">{{formValidationMessages?.pemploymenttype}}</span>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <!--employed end-->
      <!--selfemployed end-->
  
  
      <div class="row" *ngIf="showSelfEmployedDetails">
        <hr class="light">
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Date of Incorporation/Establishment</label>
            <input class="form-control" type="text" [bsConfig]="pdateofestablishmentConfig" bsDatepicker placeholder="Select Date of Incorporation/Establishment" id="pdateofestablishment" title="Reporting to" formControlName="pdateofestablishment" [ngClass]="{ 'is-invalid': formValidationMessages.pdateofestablishment }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pdateofestablishment">{{formValidationMessages?.pdateofestablishment}}</span>
              </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Date of Commencement of Business</label>
            <input class="form-control" type="text" [bsConfig]="pdateofcommencementConfig" bsDatepicker placeholder="Select Date of Commencement of Business" id="pdateofcommencement" title="Reporting to" formControlName="pdateofcommencement" [ngClass]="{ 'is-invalid': formValidationMessages.pdateofcommencement }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pdateofcommencement">{{formValidationMessages?.pdateofcommencement}}</span>
              </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label> GSTN No.</label>
            <input class="form-control" type="text" maxlength="30" appUppercase appAlphanumeric placeholder="Enter GSTN No." id="pgstinno" title="Reporting to" formControlName="pgstinno" [ngClass]="{ 'is-invalid': formValidationMessages.pgstinno }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pgstinno">{{formValidationMessages?.pgstinno}}</span>
              </div>
          </div>
        </div>
        <hr>
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>CIN No.</label>
            <input class="form-control" type="text" maxlength="30" appUppercase appAlphanumeric placeholder="Enter CIN No" id="pcinno" title="Reporting to" formControlName="pcinno" [ngClass]="{ 'is-invalid': formValidationMessages.pcinno }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pcinno">{{formValidationMessages?.pcinno}}</span>
              </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>DIN No.</label>
            <input class="form-control" type="text" maxlength="30" appUppercase appAlphanumeric placeholder="Enter DIN No" id="pdinno" title="Reporting to" formControlName="pdinno" [ngClass]="{ 'is-invalid': formValidationMessages.pdinno }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.pdinno">{{formValidationMessages?.pdinno}}</span>
              </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Trade License No.</label>
            <input class="form-control" type="text" maxlength="30" appUppercase appAlphanumeric placeholder="Trade License No" id="ptradelicenseno" title="Reporting to" formControlName="ptradelicenseno" [ngClass]="{ 'is-invalid': formValidationMessages.ptradelicenseno }">
            <div class="invalid-feedback">
                <span *ngIf="formValidationMessages.ptradelicenseno">{{formValidationMessages?.ptradelicenseno}}</span>
              </div>
          </div>
        </div>
  
      </div>
  
      <!--selfemployed end-->
    </div>
  </form>
      </div>
          <hr>
          <div class="col-md-6 col-xl-4">
            <a class="lc-title acc5 mb-2 text-decoration-none" data-toggle="collapse" href="#Income " role="button" aria-expanded="false" aria-controls="family"> <img id="close" src="assets/images/icon-toggle-default.svg" width="12px" height="12px" /> <img id="open" src="assets/images/icon-toogle-bottom.svg" width="12px" height="12px" /> &nbsp; &nbsp; Income Details </a>
          </div>
          <div class="col-md-6 col-xl-4">
            <!-- <div class="material-switch pull-right">
              <span class="mr-2">Not applicable</span>
              <input id="Income-details" name="Income-details" type="checkbox" (change)="incomeCheckedChange($event)" />
              <label for="Income-details" class="check-danger"></label>
            </div> -->
          </div>
          <div class="col-12 collapse" id="Income" >
            <app-fi-personaldetails-income [showIncome]= true (forComputeDetailsEmit)="forComputeDetailsEmit($event)"></app-fi-personaldetails-income>
            <div class="">
              <hr class="light">
              <div class="col-md-8 col-xl-8 pl-0">
                <app-fi-personaldetails-otherincome  [showIncome]= true [incomeFormDataFromPersonalLoan]="incomeFormDataFromPersonalLoan"></app-fi-personaldetails-otherincome>
              </div>
            </div>
      
          </div>
    </div>
    
    <div class="row" *ngIf="oldData?.pContacttype == 'Business Entity'">
        <div class="col-md-12 pad-5-15 ">
            <a class="lc-title acc1 mb-2 text-decoration-none" data-toggle="collapse"
             href="#businessActivityDetails" role="button" aria-expanded="false"
              aria-controls="personaldetails"><img id="close" src="assets/images/icon-toggle-default.svg"
               width="12px" height="12px" /><img id="open" src="assets/images/icon-toogle-bottom.svg" 
               width="12px" height="12px" /> &nbsp; &nbsp;  Business Activity Details </a>
          </div>
          <div class="col-12 collapse" id="businessActivityDetails" >
            <app-fi-personaldetails-business [showBusinessActivity]="true" ></app-fi-personaldetails-business>
          </div>
          <div class="col-md-12 pad-5-15">
              <a class="lc-title acc1 mb-2 text-decoration-none" data-toggle="collapse"
               href="#businessFinancialPerformance" role="button" aria-expanded="false"
                aria-controls="personaldetails"><img id="close" src="assets/images/icon-toggle-default.svg"
                 width="12px" height="12px" /><img id="open" src="assets/images/icon-toogle-bottom.svg" 
                 width="12px" height="12px" /> &nbsp; &nbsp;  Business Financial Performance </a>
            </div>
            <div class="col-12 collapse" id="businessFinancialPerformance" >
              <app-fi-personaldetails-financialperformance [showBusinessFinacial]="true"></app-fi-personaldetails-financialperformance>
            </div>
    </div>
    
    </div>